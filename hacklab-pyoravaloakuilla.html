<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-type"/>
  <meta content="en-us" http-equiv="Content-Language"/>
  <title>
   /hacklab-pyoravaloakuilla
  </title>
 </head>
 <body>
  <b>
   <u>
    Ledivalot pyörään dynamo+akku
   </u>
  </b>
  <br/>
  Uudet ideat korjailut tervetulleita
  <br/>
  <br/>
  Ajatuksena tehdä pyörää varten ledivalot jotka pysyvät päällä ajon aikan ja pysähtymisen jälkeen ilman välkkymisiä tai himmenemisiä johtuen hitaasta nopeudesta.
  <br/>
  <br/>
  Tarkoituksena on  käyttää hakkurivirtalähdettä ja aktiivista tasasuuntaajaa, akkujen lataaminen on vielä toisarvoinen koska kaupunkipyöräilijä  harvemmin pääsee nopeuksiin joissa saadaan tehoja ulos, kuitenkin hakkurin käyttö mahdollistaa akun käytön "hätävirtalähteenä" ja dynamosta saadaan siitä huolimatta virtaa valoihin.
  <br/>
  <br/>
  Kaikki tavarat tulisi saada pois silmistä ja korvista ainoastaan akun latausta joutuisi tekemään. Koko paketin voisi sijoittaa satulaputkeen tai ohjaustagon putkeen. Johdot saa rungosta riippuen piilotettua ilman porailua.
  <br/>
  <br/>
  <br/>
  Dynamo/Dynohub ja mitä siitä itse tiedän:
  <br/>
  <br/>
  <ul>
   <li>
    kiinnitetään etupyörään ja pyörii siellä tuottaen 6vAC max. 3w
    <br/>
    <br/>
   </li>
   <li>
    tuottaa "open circuit" jännitettä jopa 100v, noin sadan kilometrin nopeudessa jota ajan joka päivä Porvoosta Helsikiin ;)
    <br/>
    <br/>
   </li>
   <li>
    Dynamo saturoituu 400 - 500 mA, joten jos kuormana on yksi teholedi niin ulos saadaan vain ledille tarvittava teho. Kun ledejä on 5kpl niin sama toistuu, mutta ulos otetaan 5x led. kynnys jännite X 500mA(tietenkin viidelle ledille tarvitaan n. 20km/h) ja jos ledejä on 30kpl niin teoriassa ne palavat hyvin 100km nopeudessa
    <br/>
    <br/>
   </li>
   <li>
    akun lataaminen suoraan dynamolta toimii, mutta tuhoaa akun
    <br/>
    <br/>
   </li>
   <li>
    dynamosta tulee open circuit jännitettä n. 1voltti per km/h
   </li>
   <li>
    dynamon rakenne itsessään rajoittaa saatavan tehon joten sitä on huijattava saadakseen lisää(helpointa lienee etsiä töpseliä)
    <br/>
    <br/>
   </li>
   <li>
    <br/>
   </li>
   <li>
    <br/>
   </li>
   <li>
    <br/>
    <br/>
    <br/>
   </li>
  </ul>
  <b>
   Kokeiltua ja käytettyä
  </b>
  <br/>
  <br/>
  Lineaarinen 78xx + tasasuuntaja todettu todella bustProof. Viiden voltin versio latasi NiMH akkuja todella kuumana ja 12 voltin versio oli väärin kytkettynä kuukauden verran ja sitten mittaillessa huomasin ja regulaattori toimi. Näillä regulaattoreilla ladattu NiCD ja NiMH akkuja ja todettu tehottomuus sekä akkujen keittyminen, akkujen lataus on varsinkin NiCD:llä tehnyt pyöräilystä todella kuntoa koettelevaa.
  <br/>
  <br/>
  Hakkuri MC34063. Nokian autolaturista johon muutettu kela ja  toiminta taajuus,
  <br/>
  <a href="http://www.nomad.ee/micros/mc34063a/">
   http://www.nomad.ee/micros/mc34063a/
  </a>
  <br/>
  Toimi hyvin kunnes pieni ylinopeus poltti piirin, oletan  kuitenkin piirin olevan hyvä testaus käyttöön koska niitä on mahdollista saada edullisesti.
  <br/>
  <br/>
  Hakkuri LM2577 boostmoduli. Toiminta ok, mutta regulaattori ei ole tehty käytettäväksi jos sisääntulo jännite kasvaa ulostuloa suuremmaksi. Tämän voi rakentaa myös SEPIC topologialla.
  <br/>
  <br/>
  Nyt käytössä LT1172 SEPIC eli buck-boost vastaava virtalähde ja lithium akku suojadiodilla. Akku on itse suojattu, mutta "buffattu" (labin jäämistöä) . Setti näyttää lähinnä "Jihaddistin Lunchboxilta" johtoineen ja oranseine teippeineen. (kuva linkkejä tulee pari kun Ubuntun uniSuck lopettaa... vaihda 11.04)
  <br/>
  <br/>
  Akuista yleensä, oikosulkusuoja pelastaa osat:
  <br/>
  <br/>
  <ul>
   <li>
    Lipo, pelottava kapine, mutta kompakti pakkaus tehoa, pakkaskesto tuntematon
    <ul>
     <li>
      kevyt ja tehokas
     </li>
     <li>
      vaati kotelointia
     </li>
     <li>
      erittäin nirso latausten suhteen
     </li>
     <li>
      saattaa muuttua epävakaaksi iskuista
     </li>
     <li>
      lataus 400 - 500 kertaa
     </li>
     <li>
      nopea lataus
      <br/>
      <br/>
     </li>
    </ul>
   </li>
   <li>
    LiOn, sylinteri mallina lienee luotettava, ruostuu, kuolee pakkasessa
    <ul>
     <li>
      kevyt ja tehokas
     </li>
     <li>
      vaati kotelointia, saatavan myös sylinteri 18650 etc
     </li>
     <li>
      ei niin vaarallinen mutta latausjännitteen kanssa on oltava tarkka
     </li>
     <li>
      saattaa muuttua epävakaaksi iskuista
     </li>
     <li>
      lataus 400 - 500 kertaa
     </li>
     <li>
      Lipoa hitaampi lataus
      <br/>
      <br/>
     </li>
    </ul>
   </li>
   <li>
    LiFepo4, ei oikein tuntumaa, kesti pakkasessa kohtuullisesti, mutta yksi akku "kuoli" maybe "DX quality"
    <ul>
     <li>
      kestävä ja turvallisempi
     </li>
     <li>
      kestää paremmin ylilatausta sekä on "
      <i>
       Trickle charging tolerant"
      </i>
     </li>
     <li>
      pakkasessa antaa tehoja pidempään
     </li>
     <li>
      lataus 1000 - 2000 kertaa
     </li>
     <li>
      latautuu hitaasti
      <br/>
      <br/>
     </li>
    </ul>
   </li>
   <li>
    NiMH ja NiCD, ne ei räjähdä...
    <ul>
     <li>
      pakkaskesto kurjasta kohtuulliseen
     </li>
     <li>
      jos ei muuta ole käytä näitä...
      <br/>
      <br/>
     </li>
    </ul>
   </li>
   <li>
    Lyijy(hyytelö)
    <ul>
     <li>
      kuntoilijan perusväline, painaa ja kestää
     </li>
     <li>
      sillä voi heittä vesilintua ja löydettäessä toimii vielä(kestävä)
     </li>
     <li>
      hidas lataus
     </li>
     <li>
      loistava pakkasen kesto sekä suostuu latautumaan alle 0 asteessa
     </li>
     <li>
      lataus 300 kertaa?, on "
      <i>
       Trickle charging tolerant"
      </i>
      <br/>
      <br/>
     </li>
    </ul>
   </li>
  </ul>
  Akut toimivat vaihtelevasti pakkasella ja niitä ei saa ladata alle 0 asteen lämpötilassa. Ainoa poikkeus on lyijyakku.
  <br/>
  <br/>
  Akkujen toimintaa kylmässä pystyy pidentämään eristämällä sekä mahdollisesti lämmittämällä esim. sähköautoissa käytetään LiFe -kennoja joihin on lisätty laminoidessa lämpöelementti.
  <br/>
  Tällaisessa "Karvahattu" projektissa haaveilen PWM -ohjatusta lapasen lämmittimestä Bilteman moottorin lämpösuojalla eristettynä.
  <br/>
  <br/>
  <b>
   Selvitettävää
  </b>
  <br/>
  <br/>
  <ul>
   <li>
    Virtalähteen hyötysuhteen parantaminen selvittäminen
   </li>
   <li>
    Topologia, voisiko flyback kuormittaa vähemmän virtalähdettä jolloin saadaan enemmän tehoa jos tarvitaan
    <br/>
    <br/>
    <ul>
     <li>
      flyback, huonompi hyötysuhde mutta ulos saa useita jänniteitä +/-
     </li>
     <li>
      isompi kela ja kuinka kela tehdään, testattava...
     </li>
    </ul>
   </li>
   <li>
    aktiivinen tasasuuntaaja onko vaivan arvoinen 1 - 2 lisä volttia
    <ul>
     <li>
      <a href="http://www.electronicdesign.com/files/29/19871/fig_01.gif">
       http://www.electronicdesign.com/files/29/19871/fig_01.gif
      </a>
     </li>
     <li>
      <a href="http://lh6.ggpht.com/_FdGFE8NBDgc/S_uLOGdGvLI/AAAAAAAAC5I/CwOll-9L4sI/s640/power-mosfet-bridge-rectifier-circuit-diagram.GIF">
       http://lh6.ggpht.com/_FdGFE8NBDgc/S_uLOGdGvLI/AAAAAAAAC5I/CwOll-9L4sI/s640/power-mosfet-bridge-rectifier-circuit-diagram.GIF
      </a>
     </li>
     <li>
      voiko H-bridgen käskyttää tasasuuntaukseen (askelmoottori = generaattori)?
      <ul>
       <li>
        mitä ihmettä tää tarkottaa suomeks? H-bridge on tehty ohjaamaan askelmoottroria, mutta askelmoottori voi toimia myös generaattorina, jolloin H-bridgen ohjaus pitäsis tahdistaa siten että se avaisi mossfetit oikein jolloin tuotettava AC muutettaisiin DC... ongelmat ovat, fettien ohjaus signaali AC virrasta, sillan ohjausjännite 18volttia. Molemmat lienevät saatavilla, mutta kikkareita pitää lisätä systeeemiin. (homman toimimaan saattaminen tältä osalta lienee pyhä missio joten sillä ei ole mitään tekemistä järjen kanssa, schotky diodeja sekä virtasyöppö diodi siltoja on jo löytynyt)
       </li>
      </ul>
     </li>
     <li>
      en näe aktiivitasasuuntauksesta suurta etua, koska hakkurilla saa säädettyä lähtöjännitteen halutuksi joka tapauksessa - teemu
     </li>
    </ul>
   </li>
   <li>
    onnistuuko akkujen eristäminen ja kuinka estää kosteuden kerääntyminen talvella
    <ul>
     <li>
      lapasen lämmitin elementi PWM:llä ja
     </li>
    </ul>
   </li>
   <li>
    akkujen päälle kytkentä automaattisesti kun virta dynamolta ja viiveellä akku pois
    <br/>
    <br/>
   </li>
   <li>
    voiko dynamoa emuloida vai onko vaan tehtävä ständi porakone pyörityksellä(boxi tehty110712)
   </li>
   <li>
    kuinka helposti saa arduinon seuramaan virrantuottoa
    <br/>
    <br/>
   </li>
  </ul>
  <b>
   Tehtävää
  </b>
  <br/>
  <br/>
  <ul>
   <li>
    pienennä piirilevyä alkuun 2x3cm mittaan, (päästy 3x4cm)
   </li>
   <li>
    testaa flyback -topologian toimintaa, (kokeiltu ei toimi odotetusti)
   </li>
   <li>
    h-bridge jos ei toimi tee joku toinen versio(schotky -versiot)
   </li>
   <li>
    etsi muoviputkea 18650 kennolle(battery holder)
   </li>
   <li>
    <br/>
   </li>
   <li>
    <br/>
    <br/>
    <br/>
   </li>
  </ul>
  <b>
   alustava lohkokaavio välipiirillä
  </b>
  <br/>
  <br/>
  <br/>
  +-----------+                         +---------------+          Konkka
  <br/>
  |               |-(~)-----------------|  ~          +   |-------------+-------------(+)
  <br/>
  |Dynamo |                  Input |  Diodisilta  |              (C)                      Välipiiri, tähän kytketään juttuja
  <br/>
  |               |-(~)-----------------|  ~           -   |-------------+-------------(0)
  <br/>
  +-----------+                         +---------------+
  <br/>
  <br/>
  <br/>
  Schottky diodi
  <br/>
  +---------------------------------|&lt;|-----+
  <br/>
  |           +--------------+                   |          +--------+
  <br/>
  (+)------+---------|                  |----------------+--------|           |
  <br/>
  Välipiiri               Input | Akkulaturi | Output                   | Akku  |
  <br/>
  (0)------+---------|                  |----------------+--------|           |
  <br/>
  |           +-------------+                    |          +--------+
  <br/>
  +-----------------------------------------+
  <br/>
  <br/>
  <br/>
  +------------+               Teholedi
  <br/>
  (+)----------------|            +  |----------------|&gt;|-------------+
  <br/>
  Välipiiri               Input | Lediajuri | Output                            |
  <br/>
  (0)-----------------|            -  |---------------------------------+
  <br/>
  +------------+
  <br/>
  <br/>
  <br/>
  <b>
   alustava lohkokaavio "kaikki akun kautta"
  </b>
  <br/>
  <br/>
  <br/>
  +-----------+                         +---------------+          Konkka
  <br/>
  |               |-(~)-----------------|  ~          +   |-------------+-------------(+)
  <br/>
  |Dynamo |                  Input |  Diodisilta  |              (C)                      Välipiiri, tähän kytketään laturi
  <br/>
  |               |-(~)-----------------|  ~           -   |-------------+-------------(0)
  <br/>
  +-----------+                         +---------------+
  <br/>
  <br/>
  <br/>
  +----------------------------(+)
  <br/>
  +--------------+                   |          +--------+
  <br/>
  (+)----------------|                  |----------------+--------|           |
  <br/>
  Välipiiri              Input | Akkulaturi | Output                   | Akku  |        Ledipiiri
  <br/>
  (0)----------------|                  |----------------+--------|           |
  <br/>
  +--------------+                   |          +--------+
  <br/>
  +-----------------------------(0)
  <br/>
  <br/>
  <br/>
  +------------+               Teholedi
  <br/>
  (+)----------------|            +  |----------------|&gt;|-------------+
  <br/>
  Ledipiiri               Input | Lediajuri | Output                            |
  <br/>
  (0)-----------------|            -  |---------------------------------+
  <br/>
  +------------+
  <br/>
  <br/>
  <br/>
  <b>
   Rakennettu "dynamo boxi"
  </b>
  (Creepylle kiitokset "roskista"!)
  <br/>
  <br/>
  Lyhyesti sanottuna testipenkki, jossa voi koe ponnistaa polkupyörän dynamolle tehtyjä kytkentöjä, mitata sekä muutenkin seurata mitä laitteessa tapahtuu.
  <br/>
  <br/>
  "Boxi" on tehty pöydälle mahtuvaksi ja liikkuvat osat on suojattu vaneri lootalla sekä dynamon ulostulo ylijännitesuojalla joka  tullaan tekemään kahdella 30v 3A. zenerillä näin lootan käyttö on turvallisempaa sekä helpompaa verrattuna vanteeseen kiinnitetyn dynamon pyörittämiseen. Dynamoa pyöritetään tavallisella porakoneella ketjun välityksellä. Tällä hetkellä välitys suhde on 1:1, joka ei oikein toimi kun porakoneen oma nopeus säätö ei tuota matalilla kierroksilla vääntöä lisäksi ongelmana on toisen rattaan epäkeskoinen kiinnitys, joka aiheuttaa ketjun paikoiltaan hyppäämisen (kierrosnopeus vastaa luonnossa 40 - 60km/h nopeutta). Tuossa tuli testattua sekin että vaneri loota kestää.
  <br/>
  <br/>
  Open Circuit -jännite ilman zenereitä tai kuormaa nousee korkeaksi kuten jokainen polkupyörän napadynamon toimintaan tutustunut tietää ja piirin kytkeminen  tuossa vaiheessa on helpoin tapa kärventää testattava laite tai kokeilla toimiiko piirin ylivirtasuoja, en kuitenkaan suosittele.
  <br/>
  <br/>
  Välitykset pitää vielä vaihtaa ja samalla tehdä paremmin keskitetty ratasadapteri, jolloin ulos on helpompi saada todellisuutta vastaavia tuloksia. Nyt on helppo tehdä maksimi ja minimi mittauksia.
  <br/>
  <br/>
  Pientä säätöä siis tarvitaan...
  <br/>
  <br/>
  Boxi Labbilaisille käytettävissä jos on intoa dynamon testailuun.
  <br/>
  <br/>
  <b>
   Mitä seuraavaksi?
  </b>
  <br/>
  <br/>
  Katsotaan akkujenl atauspiirin vaatimukset sekä opetetaan Arduino Nano lukemaan dynamoa ja hoitamaan analogisten piirien hommat. Dynamolta saatu pulssi määrä voidaan muuntaa melko suoraan nopeudeksi ja siitä matkaksi eli nopeus/matkamittari.
  <br/>
  <br/>
  <br/>
  Lähteitä ja valmiita ratkaisuja:
  <br/>
  <br/>
  SEPIC -topologiaa muodossa jokseenkin yleistajuisessa muodossa,
  <br/>
  <a href="http://dkc1.digikey.com/us/en/tod/CooperBussmann/SEPIC-Converter/SEPIC-Converter.html">
   http://dkc1.digikey.com/us/en/tod/CooperBussmann/SEPIC-Converter/SEPIC-Converter.html
  </a>
  <br/>
  <br/>
  <a href="http://minisystem.blogspot.ca/2008/07/dynamo-lithium-ion-battery-charging.html">
   http://minisystem.blogspot.ca/2008/07/dynamo-lithium-ion-battery-charging.html
  </a>
  <br/>
  <br/>
  <a href="http://minisystem.blogspot.com/2012/04/sturmey-archer-light-set-led-upgrade.html">
   http://minisystem.blogspot.com/2012/04/sturmey-archer-light-set-led-upgrade.html
  </a>
  <br/>
  <br/>
  <a href="http://www.amphibike.org/index.cgi?page=pages/3_bikes/monocog/genOverview">
   http://www.amphibike.org/index.cgi?page=pages/3_bikes/monocog/genOverview
  </a>
  <br/>
  <br/>
  <a href="http://www.ktverkko.fi/~msmakela/electronics/dynamo5v/index.en.html#ldo.sw">
   http://www.ktverkko.fi/~msmakela/electronics/dynamo5v/index.en.html#ldo.sw
  </a>
  <br/>
  <br/>
  <br/>
  <br/>
  <br/>
 </body>
</html>