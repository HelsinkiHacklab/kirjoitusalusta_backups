<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-type"/>
  <meta content="en-us" http-equiv="Content-Language"/>
  <title>
   /hacklab-fobit
  </title>
 </head>
 <body>
  <b>
   Suuri suunnitelma fobien suhteen
  </b>
  <br/>
  <br/>
  Alkuun lähinnä ulko-oven solenoidilukkoon, tulevaisuudessa voisi kuitata fobilla sähköt päälle työpisteeseen/-koneeseen.
  <br/>
  <br/>
  Ref:
  <a href="./hacklab-uudet-tilat-2014.html">
   http://kirjoitusalusta.fi/hacklab-uudet-tilat-2014
  </a>
  <br/>
  <br/>
  <b>
   Kortti/fobi:
  </b>
  Mifare DESFire EV1
  <br/>
  <br/>
  <b>
   Lukijat PN532
  </b>
  , vaihtoehtoja:
  <br/>
  <ul>
   <li>
    <a href="http://www.seeedstudio.com/depot/NFC-Shield-V20-p-1370.html">
     http://www.seeedstudio.com/depot/NFC-Shield-V20-p-1370.html
    </a>
    <ul>
     <li>
      Tulossa koeponnistukseen
     </li>
    </ul>
   </li>
   <li>
    <a href="http://www.seeedstudio.com/depot/Xadow-NFC-p-1627.html">
     http://www.seeedstudio.com/depot/Xadow-NFC-p-1627.html
    </a>
    <ul>
     <li>
      <a href="http://www.seeedstudio.com/depot/Xadow-Breakout-p-1519.html">
       http://www.seeedstudio.com/depot/Xadow-Breakout-p-1519.html
      </a>
     </li>
     <li>
      tulossa koeponnistukseen
     </li>
    </ul>
   </li>
   <li>
    <a href="https://www.adafruit.com/products/789">
     https://www.adafruit.com/products/789
    </a>
    <ul>
     <li>
      dist tietää hyväks (ja on mukana)
      <ul>
       <li>
        Saatu toimimaan raspilla UARTin yli
       </li>
      </ul>
     </li>
    </ul>
   </li>
   <li>
    <a href="http://www.seeedstudio.com/wiki/NFC_Shield_V1.0">
     http://www.seeedstudio.com/wiki/NFC_Shield_V1.0
    </a>
    <ul>
     <li>
      Wanhentunut malli mutta juuri nyt kädessä
      <ul>
       <li>
        Saatu toimimaan raspilla SPI:n yli
        <br/>
        <br/>
        <br/>
        <br/>
       </li>
      </ul>
     </li>
    </ul>
   </li>
  </ul>
  <b>
   "Tiedostojärjestelmä"
  </b>
  :
  <br/>
  <ul>
   <li>
    Dummyapp vakioavaimella
    <ul>
     <li>
      Sessioiden avaamista varten
     </li>
    </ul>
   </li>
   <li>
    HacklabApp
    <ul>
     <li>
      Kopio kortin UUID:stä (voidaan varmentaa että kukaan ei yritä feikata kortin anonyymisti luettavaa UUID:tä)
     </li>
     <li>
      Jäsennumero
     </li>
     <li>
      muuta ??
     </li>
     <li>
      Salattu avaimella joka johdetaan kortin UUIDsta ja "master" avaimesta (ko masteri ei ole sama jolla kortti on formatoitu)
      <ul>
       <li>
        Näin jos joku onnistuu häxäämään avaimen jotenkin (tälle fobille ei juuri nyt ole tunnettuja hyökkäyksiä ihmisten budjetissa) niin saa vain oman korttinsa avaimen eikä kaikkia.
        <br/>
        <br/>
       </li>
      </ul>
     </li>
    </ul>
   </li>
  </ul>
  Tosin aivan eka revisio alkuperäisen suunnitelman mukaisesti toimii pelkästään kortiin UUID:lla
  <br/>
  <br/>
  Ovissa tms "high security" kohdissa on lukija jonka takana on riittävästi älyä ja tehoa neuvotella noi kryptojutut ja varmistaa että kulkuoikat yms on voimassa (ja ajaa GPIO:n läpi esim solenoidilukkoja). Se että onko tämä raspberrypi vai beagleboardblack (vai jokumuu) on vielä auki.
  <br/>
  <br/>
  Nämä älykkäämmät vehkeet saavat kopion kulkuoikeuskannasta alaspäin jäsenrekisteripalvelimelta. ne synkkaavat ylöspäin lokitietoa siitä ketkä ovat kulkeneet ja milloin.
  <br/>
  <br/>
  Nämä älykkäämmät vehkeet ottavat myös vastaan UDP(?) broadcasteja tyhmemmiltä vehkeiltä (jos esim työpöytään kuitataan sähköt fobilla, tähän käytetään pelkkää kortin UUIDta ja ei tarkistella mitään muuta joka vaatisi krypton laskentaa yms) ja tallentavat tiedot lokiin (joka synkkautuu sitten palvelimelle).
  <br/>
  <br/>
  <br/>
  <b>
   Linux laudan speksit
  </b>
  :
  <br/>
  <br/>
  <ul>
   <li>
    Halpa
   </li>
   <li>
    Debian out-of-the-box
   </li>
   <li>
    Ethernet out-of-the-box
   </li>
   <li>
    RTC olis kiva
   </li>
   <li>
    PoE olis superkiva (erityisesti siten että jaksais ajaa releitäkin eikä pelkästään lautaa)
    <br/>
    <br/>
   </li>
  </ul>
  <b>
   Lokitietokanta:
  </b>
  <br/>
  <br/>
  CouchDB on varmaan aika hyvä, pitää hanskata replikointi siististi ja olla document-store.
  <br/>
  <br/>
  <b>
   Access privileges kanta:
  </b>
  <br/>
  <br/>
  SQLite riittänee enemmän kuin hyvin, liimaksit imuroi esim SCP:llä (public key, no password)  tunnuksella jolla on ainoastaan lukuoikeus ko tiedostoon.
  <br/>
  <br/>
  <br/>
  <br/>
 </body>
</html>